# Railway deployment – variable templates for each service
# Do NOT paste the literal values below for DATABASE_URL / DATABASE_URL_SYNC / REDIS_URL.
# Use Railway "Add Reference" → Postgres (or Redis) and select the URL variable. The literal
# "host" does not resolve and the container will crash with "could not translate host name 'host'".

# ============ API service ============
# Set DATABASE_URL and DATABASE_URL_SYNC via Add Reference → Postgres (e.g. DATABASE_URL).
# If Postgres gives postgresql://..., set API DATABASE_URL to the same URL but with
# postgresql+asyncpg:// for async. Set REDIS_URL via Add Reference → Redis.
DATABASE_URL=postgresql+asyncpg://user:password@host:5432/syllascribe
DATABASE_URL_SYNC=postgresql://user:password@host:5432/syllascribe
REDIS_URL=redis://default:password@host:6379
UPLOAD_DIR=/app/data/uploads
ALLOWED_ORIGINS=https://your-web-service.up.railway.app
PORT=8000
USE_LLM_CLASSIFIER=false
LLM_PROVIDER=openai
LLM_API_KEY=
UPLOAD_RETENTION_HOURS=168

# ============ Worker service ============
# Use References for DATABASE_URL_SYNC and REDIS_URL (Add Reference → Postgres/Redis).
# Do not use literal values – "host" will not resolve and Worker will fail to connect.
DATABASE_URL_SYNC=postgresql://user:password@host:5432/syllascribe
REDIS_URL=redis://default:password@host:6379
UPLOAD_DIR=/app/data/uploads
USE_LLM_CLASSIFIER=false
LLM_PROVIDER=openai
LLM_API_KEY=

# ============ Web service ============
# Copy this block into the Web service Variables.
# Set NEXT_PUBLIC_API_BASE_URL to your API service’s public URL (e.g. https://your-api-service.up.railway.app).
NEXT_PUBLIC_API_BASE_URL=https://your-api-service.up.railway.app
PORT=3000
