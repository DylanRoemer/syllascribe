# Railway deployment – variable templates for each service
# Do NOT paste the literal values below for DATABASE_URL / DATABASE_URL_SYNC / REDIS_URL.
# Use Railway "Add Reference" → Postgres (or Redis) and select the URL variable. The literal
# "host" does not resolve and the container will crash with "could not translate host name 'host'".

# ============ API service ============
# Add Reference → Postgres → DATABASE_URL (one reference; code derives sync URL and async driver).
# Add Reference → Redis → REDIS_URL. PORT is optional (Railway injects it; default 8000).
# UPLOAD_DIR is set in Dockerfile; override only if needed. ALLOWED_ORIGINS = your Web public URL.
DATABASE_URL=postgresql+asyncpg://user:password@host:5432/syllascribe
REDIS_URL=redis://default:password@host:6379
UPLOAD_DIR=/app/data/uploads
ALLOWED_ORIGINS=https://your-web-service.up.railway.app
PORT=8000
USE_LLM_CLASSIFIER=false
LLM_PROVIDER=openai
LLM_API_KEY=
UPLOAD_RETENTION_HOURS=168

# ============ Worker service ============
# Add Reference → Postgres → DATABASE_URL (one reference; code uses it for sync). Add Reference → Redis → REDIS_URL.
# UPLOAD_DIR is set in Dockerfile. Do not paste literal URLs with "host" – use Add Reference.
DATABASE_URL=postgresql://user:password@host:5432/syllascribe
REDIS_URL=redis://default:password@host:6379
UPLOAD_DIR=/app/data/uploads
USE_LLM_CLASSIFIER=false
LLM_PROVIDER=openai
LLM_API_KEY=

# ============ Web service ============
# Copy this block into the Web service Variables.
# Set NEXT_PUBLIC_API_BASE_URL to your API service’s public URL (e.g. https://your-api-service.up.railway.app).
NEXT_PUBLIC_API_BASE_URL=https://your-api-service.up.railway.app
PORT=3000
